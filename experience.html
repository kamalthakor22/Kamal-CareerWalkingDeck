<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Professional Experience Timeline</title>
<style>
  body { background-color:#1e1e1e; color:#fff; font-family:Arial,sans-serif; margin:0; font-size:14px; }
  h1 { text-align:center; padding:15px 0; color:#ffcc00; font-size:1.5rem; }
  .legend { display:flex; justify-content:center; gap:15px; margin-bottom:10px; flex-wrap:wrap; font-size:0.9rem; }
  .color-box { width:12px; height:12px; display:inline-block; margin-right:5px; vertical-align:middle; }
  #yearOverview { display:flex; justify-content:center; flex-wrap:wrap; padding:5px; background:#2c2c2c; white-space:nowrap; overflow:hidden; font-size:0.8rem; }
  .year-label { padding:3px 6px; cursor:pointer; border-radius:4px; user-select:none; margin:1px; }
  .year-label.active { background:#ffcc00; color:#000; }
  #timelineContainer { position:relative; width:100%; padding:10px 5px; overflow-x:hidden; }
  #timeline { position:relative; height:180px; display:flex; flex-wrap:nowrap; align-items:flex-start; width:100%; }
  .experience-point { position:absolute; top:50px; display:flex; flex-direction:column; align-items:center; transition:transform 0.3s; }
  .experience-point img { width:40px; height:40px; border-radius:50%; cursor:pointer; transition:transform 0.3s; }
  .experience-bar { height:8px; border-radius:4px; margin-top:4px; transition:width 0.6s, opacity 0.6s; }
  .popup { display:none; position:absolute; top:100px; left:50%; transform:translateX(-50%); background:#333; padding:20px; border-radius:10px; width:500px; max-width:90vw; max-height:60vh; overflow-y:auto; z-index:10; box-shadow:0 0 15px rgba(0,0,0,0.8); font-size:0.85rem; }
  .popup.active { display:block; }
  svg#connectors { position:absolute; top:0; left:0; width:100%; height:180px; pointer-events:none; overflow:visible; }
  @media (max-width:600px){
    body { font-size:12px; }
    h1 { font-size:1.2rem; }
    .popup { width:300px; max-height:50vh; padding:15px; font-size:0.8rem; }
    .experience-point img{width:30px;height:30px;}
    .experience-bar{height:6px;}
  }
</style>
</head>
<body>

<h1>Professional Experience Timeline (2005â€“2025)</h1>

<div class="legend">
  <span><span class="color-box" style="background-color:#ff5733;"></span> Implementation</span>
  <span><span class="color-box" style="background-color:#33ff57;"></span> Architect</span>
  <span><span class="color-box" style="background-color:#3357ff;"></span> Founder</span>
</div>

<div id="yearOverview"></div>

<div id="timelineContainer">
  <div id="timeline"></div>
  <svg id="connectors"></svg>
</div>

<script>
const experiences = [
  /* ... all experience objects with logos, startYear, endYear, roleType, details ... */
];

// Auto-calculate timeline width to fit container without scrollbars
(function(){
  const timelineContainer = document.getElementById('timelineContainer');
  const timeline = document.getElementById('timeline');
  const yearOverview = document.getElementById('yearOverview');

  const startYear = 2005;
  const endYear = 2025;
  const containerWidth = timelineContainer.offsetWidth;
  const totalYears = endYear - startYear + 1;
  const pixelPerYear = containerWidth / totalYears;

  // Year overview labels
  for(let y=startYear;y<=endYear;y++){
    const yLabel = document.createElement('div');
    yLabel.classList.add('year-label');
    yLabel.textContent = y;
    yLabel.dataset.year = y;
    yearOverview.appendChild(yLabel);
    yLabel.addEventListener('click', ()=> openYear(y));
  }

  // Timeline points
  experiences.forEach((exp, index)=>{
    const point = document.createElement('div');
    point.classList.add('experience-point');
    point.style.left = ((exp.startYear-startYear)*pixelPerYear)+'px';
    point.dataset.index = index;

    const img = document.createElement('img');
    img.src = exp.logo;
    img.title = exp.company;
    point.appendChild(img);

    const bar = document.createElement('div');
    bar.classList.add('experience-bar');
    bar.style.width = ((exp.endYear-exp.startYear+1)*pixelPerYear)+'px';
    bar.style.background = exp.roleType==="Implementation" ? "#ff5733" : exp.roleType==="Architect" ? "#33ff57" : "#3357ff";
    point.appendChild(bar);

    const popup = document.createElement('div');
    popup.classList.add('popup');
    popup.innerHTML = `<h3>${exp.title} - ${exp.company}</h3>${exp.details}`;
    point.appendChild(popup);

    img.addEventListener('click', ()=>{
      document.querySelectorAll('.popup').forEach(p=>p.classList.remove('active'));
      popup.classList.add('active');
      // shrink other points
      document.querySelectorAll('.experience-point').forEach(ep=>{
        if(ep!==point) ep.style.transform='scale(0.7)';
        else ep.style.transform='scale(1)';
      });
    });

    timeline.appendChild(point);
  });

  function openYear(year){
    experiences.forEach((exp, idx)=>{
      if(exp.startYear <= year && exp.endYear >= year){
        document.querySelectorAll('.experience-point img')[idx].click();
      }
    });
  }
})();
</script>
</body>
</html>
